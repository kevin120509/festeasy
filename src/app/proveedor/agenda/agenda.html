<style>
    .agenda-page {
        min-height: 100vh;
        background: var(--color-gray-light);
    }

    .agenda-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 40px 20px;
    }

    .page-header {
        margin-bottom: 32px;
    }

    .page-header h1 {
        font-size: 32px;
        font-weight: 700;
        margin-bottom: 8px;
    }

    .page-header p {
        color: var(--color-gray);
    }

    .agenda-grid {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: 24px;
    }

    .calendario-card {
        background: var(--color-white);
        border-radius: var(--border-radius);
        padding: 28px;
        box-shadow: var(--shadow);
    }

    .calendario-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 24px;
    }

    .calendario-title {
        font-size: 24px;
        font-weight: 600;
    }

    .nav-buttons {
        display: flex;
        gap: 8px;
    }

    .nav-btn {
        width: 40px;
        height: 40px;
        border: 1px solid var(--color-gray-border);
        background: var(--color-white);
        border-radius: 50%;
        cursor: pointer;
        font-size: 18px;
        transition: all 0.3s ease;
    }

    .nav-btn:hover {
        background: var(--color-gray-light);
    }

    .dias-semana {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 8px;
        margin-bottom: 16px;
    }

    .dia-semana {
        text-align: center;
        font-size: 14px;
        font-weight: 600;
        color: var(--color-gray);
        padding: 8px;
    }

    .dias-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 8px;
    }

    .dia-cell {
        aspect-ratio: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .dia-cell.disponible {
        background: var(--color-white);
        border: 2px solid var(--color-gray-border);
    }

    .dia-cell.disponible:hover {
        border-color: var(--color-primary);
        color: var(--color-primary);
    }

    .dia-cell.ocupado {
        background: var(--color-primary);
        color: var(--color-white);
        border: 2px solid var(--color-primary);
    }

    .leyenda {
        display: flex;
        gap: 24px;
        margin-top: 24px;
        justify-content: center;
    }

    .leyenda-item {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
    }

    .leyenda-color {
        width: 16px;
        height: 16px;
        border-radius: 50%;
    }

    .leyenda-color.disponible {
        border: 2px solid var(--color-gray-border);
        background: var(--color-white);
    }

    .leyenda-color.ocupado {
        background: var(--color-primary);
    }

    .eventos-card {
        background: var(--color-white);
        border-radius: var(--border-radius);
        padding: 28px;
        box-shadow: var(--shadow);
        height: fit-content;
    }

    .eventos-title {
        font-size: 20px;
        font-weight: 600;
        margin-bottom: 20px;
    }

    .eventos-list {
        display: flex;
        flex-direction: column;
        gap: 16px;
    }

    .evento-item {
        display: flex;
        gap: 16px;
        padding: 16px;
        background: var(--color-gray-light);
        border-radius: var(--border-radius-sm);
    }

    .evento-fecha {
        background: var(--color-primary);
        color: var(--color-white);
        padding: 8px 12px;
        border-radius: var(--border-radius-sm);
        font-weight: 600;
        text-align: center;
        min-width: 60px;
    }

    .evento-info h4 {
        font-weight: 600;
        margin-bottom: 4px;
    }

    .evento-info p {
        font-size: 14px;
        color: var(--color-gray);
    }

    .tip-box {
        background: #FFF8E1;
        border-left: 4px solid #FFC107;
        padding: 16px;
        border-radius: 0 var(--border-radius-sm) var(--border-radius-sm) 0;
        margin-top: 24px;
    }

    .tip-box h4 {
        font-size: 14px;
        margin-bottom: 4px;
    }

    .tip-box p {
        font-size: 13px;
        color: var(--color-gray);
    }
</style>

<div class="agenda-page">
    <app-header></app-header>

    <div class="agenda-container">
        <div class="page-header">
            <h1>Mi Agenda üìÖ</h1>
            <p>Gestiona tu disponibilidad y pr√≥ximos eventos</p>
        </div>

        <div class="agenda-grid">
            <div class="calendario-card">
                <div class="calendario-header">
                    <h2 class="calendario-title">{{ currentMonth() }}</h2>
                    <div class="nav-buttons">
                        <button class="nav-btn" (click)="changeMonth(-1)">‚Üê</button>
                        <button class="nav-btn" (click)="changeMonth(1)">‚Üí</button>
                    </div>
                </div>

                <div class="dias-semana">
                    <span class="dia-semana">Lun</span>
                    <span class="dia-semana">Mar</span>
                    <span class="dia-semana">Mi√©</span>
                    <span class="dia-semana">Jue</span>
                    <span class="dia-semana">Vie</span>
                    <span class="dia-semana">S√°b</span>
                    <span class="dia-semana">Dom</span>
                </div>

                <div class="dias-grid">
                    @for (dia of dias(); track dia.num; let i = $index) {
                    <div class="dia-cell" 
                         [class.disponible]="dia.disponible" 
                         [class.ocupado]="!dia.disponible"
                         [class.dia-today]="dia.isToday"
                         (click)="toggleDisponibilidad(i)">
                        {{ dia.num }}
                    </div>
                    }
                </div>

                <div class="leyenda">
                    <div class="leyenda-item">
                        <span class="leyenda-color disponible"></span>
                        Disponible
                    </div>
                    <div class="leyenda-item">
                        <span class="leyenda-color ocupado"></span>
                        Ocupado
                    </div>
                </div>
            </div>

            <div class="sidebar">
                <div class="eventos-card">
                    <h2 class="eventos-title">Pr√≥ximos Eventos</h2>
                    <div class="eventos-list">
                        @for (evento of eventosProximos(); track evento.fecha) {
                        <div class="evento-item">
                            <div class="evento-fecha">{{ evento.fecha }}</div>
                            <div class="evento-info">
                                <h4>{{ evento.cliente }}</h4>
                                <p>{{ evento.tipo }} ‚Ä¢ {{ evento.hora }}</p>
                            </div>
                        </div>
                        }
                    </div>
                </div>

                <div class="tip-box">
                    <h4>üí° Tip</h4>
                    <p>Haz clic en un d√≠a para cambiar tu disponibilidad. Los clientes ver√°n los d√≠as disponibles al
                        solicitar tu servicio.</p>
                </div>
            </div>
        </div>
    </div>
</div>